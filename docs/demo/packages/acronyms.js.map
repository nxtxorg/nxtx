{"version":3,"file":"acronyms.js","sources":["../../../src/packages/acronyms.js"],"sourcesContent":["/*  Acronym package for nxtx\r\n    requires:\r\n    - basic-formatting (newpage)\r\n    Author: Malte Rosenbjerg\r\n    License: MIT */\r\n\r\nlet acronyms = {};\r\nlet usedAcronyms = [];\r\n\r\nconst pkg = {\r\n    name: 'acronyms',\r\n    requires: [ 'basic-formatting' ],\r\n    commands: {\r\n        'define-ac': (acronym, full) => acronyms[acronym.value] = full.value && false,\r\n        'ac': acronym => {\r\n            const full = acronyms[acronym.value];\r\n            if (!full) {\r\n                console.warn(`Acronym '${acronym.value}' not defined`);\r\n                return nxtx.html('b', { class: \"warning\" }, `${acronym.value}!`);\r\n            }\r\n            if (usedAcronyms.includes(acronym.value))\r\n                return acronym.value;\r\n            usedAcronyms.push(acronym.value);\r\n            return `${full} (${acronym.value})`;\r\n        }\r\n    },\r\n    hooks: {\r\n        postrender: () => {\r\n            acronyms = {};\r\n            usedAcronyms = [];\r\n        }\r\n    }\r\n};\r\n\r\nif (nxtx) {\r\n    Object.keys(pkg.commands).forEach(name => nxtx.registerCommand(name, pkg.commands[name]));\r\n    nxtx.on('postrender', pkg.hooks.postrender);\r\n}\r\n\r\nexport default pkg;\r\n\r\n"],"names":[],"mappings":";;;IAAA;IACA;IACA;IACA;IACA;;IAEA,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,IAAI,YAAY,GAAG,EAAE,CAAC;;IAEtB,MAAM,GAAG,GAAG;IACZ,IAAI,IAAI,EAAE,UAAU;IACpB,IAAI,QAAQ,EAAE,EAAE,kBAAkB,EAAE;IACpC,IAAI,QAAQ,EAAE;IACd,QAAQ,WAAW,EAAE,CAAC,OAAO,EAAE,IAAI,KAAK,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,IAAI,KAAK;IACrF,QAAQ,IAAI,EAAE,OAAO,IAAI;IACzB,YAAY,MAAM,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACjD,YAAY,IAAI,CAAC,IAAI,EAAE;IACvB,gBAAgB,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;IACvE,gBAAgB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACjF,aAAa;IACb,YAAY,IAAI,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;IACpD,gBAAgB,OAAO,OAAO,CAAC,KAAK,CAAC;IACrC,YAAY,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7C,YAAY,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAChD,SAAS;IACT,KAAK;IACL,IAAI,KAAK,EAAE;IACX,QAAQ,UAAU,EAAE,MAAM;IAC1B,YAAY,QAAQ,GAAG,EAAE,CAAC;IAC1B,YAAY,YAAY,GAAG,EAAE,CAAC;IAC9B,SAAS;IACT,KAAK;IACL,CAAC,CAAC;;IAEF,IAAI,IAAI,EAAE;IACV,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC9F,IAAI,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;IAChD,CAAC;;;;;;;;"}