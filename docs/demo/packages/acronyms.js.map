{"version":3,"file":"acronyms.js","sources":["../../../src/packages/acronyms.js"],"sourcesContent":["/*  Acronym package for nxtx\r\n    requires:\r\n    - basic-formatting (newpage)\r\n    Author: Malte Rosenbjerg\r\n    License: MIT */\r\n\r\nlet acronyms = {};\r\nlet usedAcronyms = [];\r\n\r\nconst pkg = {\r\n    name: 'acronyms',\r\n    requires: [ 'basic-formatting' ],\r\n    commands: {\r\n        'define-ac': (acronym, full) => (acronyms[acronym.value] = full.value) && false,\r\n        'ac': acronym => {\r\n            const full = acronyms[acronym.value];\r\n            if (!full) {\r\n                console.warn(`Acronym '${acronym.value}' not defined`);\r\n                return nxtx.html('b', { class: \"warning\" }, `${acronym.value}!`);\r\n            }\r\n            if (usedAcronyms.includes(acronym.value))\r\n                return acronym.value;\r\n            usedAcronyms.push(acronym.value);\r\n            return `${full} (${acronym.value})`;\r\n        }\r\n    },\r\n    hooks: {\r\n        prerender: () => {\r\n            acronyms = {};\r\n            usedAcronyms = [];\r\n        }\r\n    }\r\n};\r\n\r\nif (nxtx) {\r\n    Object.keys(pkg.commands).forEach(name => nxtx.registerCommand(name, pkg.commands[name]));\r\n    nxtx.on('prerender', pkg.hooks.prerender);\r\n}\r\n\r\nexport default pkg;\r\n\r\n"],"names":["acronyms","usedAcronyms","pkg","name","requires","commands","define-ac","acronym","full","value","ac","includes","push","console","warn","nxtx","html","class","hooks","prerender","Object","keys","forEach","registerCommand","on"],"mappings":"0CAMA,IAAIA,EAAW,GACXC,EAAe,GAEnB,MAAMC,EAAM,CACRC,KAAM,WACNC,SAAU,CAAE,oBACZC,SAAU,CACNC,YAAa,CAACC,EAASC,KAAUR,EAASO,EAAQE,OAASD,EAAKC,SAAU,EAC1EC,GAAMH,IACF,MAAMC,EAAOR,EAASO,EAAQE,OAC9B,OAAKD,EAIDP,EAAaU,SAASJ,EAAQE,OACvBF,EAAQE,OACnBR,EAAaW,KAAKL,EAAQE,UAChBD,MAASD,EAAQE,WANvBI,QAAQC,iBAAiBP,EAAQE,sBAC1BM,KAAKC,KAAK,IAAK,CAAEC,MAAO,cAAgBV,EAAQE,aAQnES,MAAO,CACHC,UAAW,KACPnB,EAAW,GACXC,EAAe,aAKvBc,OACAK,OAAOC,KAAKnB,EAAIG,UAAUiB,QAAQnB,GAAQY,KAAKQ,gBAAgBpB,EAAMD,EAAIG,SAASF,KAClFY,KAAKS,GAAG,YAAatB,EAAIgB,MAAMC"}