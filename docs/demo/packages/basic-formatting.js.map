{"version":3,"file":"basic-formatting.js","sources":["../../../src/packages/basic-formatting.ts"],"sourcesContent":["/*  Basic text formatting package for NxTx\n    Author: Malte Rosenbjerg\n    License: MIT */\n\nimport { Package, INxtx } from '../nxtx-types';\ndeclare const nxtx: INxtx;\n\nconst style = document.createElement(\"style\");\nstyle.id = 'basic-formatting-style-block';\ndocument.head.appendChild(style);\n\n// Default\nconst sheet = <CSSStyleSheet> style.sheet;\nsheet.insertRule('.page-break { height: 0 }', 0);\nsheet.insertRule('.meta ~ .page-break:not(:last-child) { height: 100% }', 1);\nsheet.insertRule('.paragraph-break { height: 0 }', 2);\nsheet.insertRule('.meta ~ .paragraph-break:not(:last-child) { height: 1.2em }', 3);\n\nconst pkg : Package = {\n    name: 'basic-formatting',\n    commands: {\n        'text:it': content => nxtx.html('i', null, content.value),\n        'text:bf': content => nxtx.html('b', null, content.value),\n        'text:tt': content => nxtx.html('code', null, content.value),\n        'dquote': contentNode => nxtx.text(`“${contentNode.value}”`),\n        'break': () => nxtx.htmlLite('div', { class: 'meta', style: 'height: 1.5em' }),\n        'pagebreak': () => nxtx.htmlLite('div', { class: 'meta page-break' }),\n        'title': titleNode => (document.title = titleNode.value) && undefined,\n        'ignore': () => undefined,\n\n    }\n};\n\nif (nxtx) nxtx.registerPackage(pkg);\n\nexport default pkg;"],"names":[],"mappings":";;;IAOA,IAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC9C,KAAK,CAAC,EAAE,GAAG,8BAA8B,CAAC;IAC1C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IAGjC,IAAM,KAAK,GAAmB,KAAK,CAAC,KAAK,CAAC;IAC1C,KAAK,CAAC,UAAU,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;IACjD,KAAK,CAAC,UAAU,CAAC,uDAAuD,EAAE,CAAC,CAAC,CAAC;IAC7E,KAAK,CAAC,UAAU,CAAC,gCAAgC,EAAE,CAAC,CAAC,CAAC;IACtD,KAAK,CAAC,UAAU,CAAC,6DAA6D,EAAE,CAAC,CAAC,CAAC;IAEnF,IAAM,GAAG,GAAa;QAClB,IAAI,EAAE,kBAAkB;QACxB,QAAQ,EAAE;YACN,SAAS,EAAE,UAAA,OAAO,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,GAAA;YACzD,SAAS,EAAE,UAAA,OAAO,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,GAAA;YACzD,SAAS,EAAE,UAAA,OAAO,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,GAAA;YAC5D,QAAQ,EAAE,UAAA,WAAW,IAAI,OAAA,IAAI,CAAC,IAAI,CAAC,WAAI,WAAW,CAAC,KAAK,WAAG,CAAC,GAAA;YAC5D,OAAO,EAAE,cAAM,OAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC,GAAA;YAC9E,WAAW,EAAE,cAAM,OAAA,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,CAAC,GAAA;YACrE,OAAO,EAAE,UAAA,SAAS,IAAI,OAAA,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,KAAK,SAAS,GAAA;YACrE,QAAQ,EAAE,cAAM,OAAA,SAAS,GAAA;SAE5B;KACJ,CAAC;IAEF,IAAI,IAAI;QAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;;;;;;;;"}