{"version":3,"file":"basic-formatting.js","sources":["../../../src/packages/basic-formatting.js"],"sourcesContent":["/*  Basic text formatting package for NxTx\r\n    Author: Malte Rosenbjerg\r\n    License: MIT */\r\nconst style = document.createElement(\"style\");\r\nstyle.id = 'basic-formatting-style-block';\r\ndocument.head.appendChild(style);\r\n\r\n// Default\r\nstyle.sheet.insertRule('.page-break { height: 0 }', 0);\r\nstyle.sheet.insertRule('.meta ~ .page-break:not(:last-child) { height: 100% }', 1);\r\nstyle.sheet.insertRule('.paragraph-break { height: 0 }', 2);\r\nstyle.sheet.insertRule('.meta ~ .paragraph-break:not(:last-child) { height: 1.2em }', 3);\r\n\r\nconst pkg = {\r\n    name: 'basic-formatting',\r\n    commands: {\r\n        'text:it': content => nxtx.html('i', null, content.value),\r\n        'text:bf': content => nxtx.html('b', null, content.value),\r\n        'text:tt': content => nxtx.html('b', null, content.value),\r\n        'dquote': contentNode => `“${contentNode.value}”`,\r\n        'break': () => nxtx.htmlLite('div', { class: 'meta', style: 'height: 1.5em' }),\r\n        'pagebreak': () => nxtx.htmlLite('div', { class: 'meta page-break' }),\r\n        'title': titleNode => (document.title = titleNode.value) && false\r\n    }\r\n};\r\n\r\nif (nxtx) {\r\n    Object.keys(pkg.commands).forEach(name => nxtx.registerCommand(name, pkg.commands[name]));\r\n}\r\n\r\nexport default pkg;"],"names":[],"mappings":";;;IAAA;IACA;IACA;IACA,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC9C,KAAK,CAAC,EAAE,GAAG,8BAA8B,CAAC;IAC1C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;IAEjC;IACA,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,2BAA2B,EAAE,CAAC,CAAC,CAAC;IACvD,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,uDAAuD,EAAE,CAAC,CAAC,CAAC;IACnF,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,gCAAgC,EAAE,CAAC,CAAC,CAAC;IAC5D,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,6DAA6D,EAAE,CAAC,CAAC,CAAC;;IAEzF,MAAM,GAAG,GAAG;IACZ,IAAI,IAAI,EAAE,kBAAkB;IAC5B,IAAI,QAAQ,EAAE;IACd,QAAQ,SAAS,EAAE,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC;IACjE,QAAQ,SAAS,EAAE,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC;IACjE,QAAQ,SAAS,EAAE,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC;IACjE,QAAQ,QAAQ,EAAE,WAAW,IAAI,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;IACzD,QAAQ,OAAO,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC;IACtF,QAAQ,WAAW,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,iBAAiB,EAAE,CAAC;IAC7E,QAAQ,OAAO,EAAE,SAAS,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,KAAK,KAAK;IACzE,KAAK;IACL,CAAC,CAAC;;IAEF,IAAI,IAAI,EAAE;IACV,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC9F,CAAC;;;;;;;;"}