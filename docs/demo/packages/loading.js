var nxtx_loading=function(){"use strict";let e={documents:{},packages:[]};const t={name:"loading",preprocessors:{"load:document":async t=>{const o=t.value.toString(),n=".nxtx"!==o.substr(o.length-5).toLowerCase()?`${o}.nxtx`:o,s=await fetch(n);if(!s.ok)return console.error(`NxTx document ${n} not found`);const a=s.headers.get("last-modified"),r=e.documents[n];if(a&&r&&r.lastModified===a)return console.log("using cached",n),e.documents[n].nodes;const c=await s.text(),d=nxtx.parse(c);return a&&(e.documents[n]={lastModified:a,nodes:d}),d},"load:package":t=>new Promise((o,n)=>{if(e.packages[t.value])return o();e.packages[t.value]=!0;const s=document.createElement("script");s.src=t.value,s.async=!0,s.onreadystatechange=s.onload=()=>{o.done||s.readyState&&!/loaded|complete/.test(s.readyState)||(o.done=!0,o())},document.head.appendChild(s)})}};return nxtx&&Object.keys(t.preprocessors).forEach(e=>nxtx.registerPreprocessor(e,t.preprocessors[e])),t}();
//# sourceMappingURL=loading.js.map
