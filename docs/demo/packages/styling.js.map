{"version":3,"file":"styling.js","sources":["../../../src/packages/styling.js"],"sourcesContent":["/*  Basic styling package package for nxtx\r\n    Author: Malte Rosenbjerg\r\n    License: MIT */\r\n\r\nconst style = document.createElement(\"style\");\r\nstyle.id = 'styling-style-block';\r\ndocument.head.appendChild(style);\r\n\r\n\r\n\r\nconst pkg = {\r\n    name: 'styling',\r\n    commands: {\r\n        'add-css-rule': (rule, index = 1) => style.sheet.insertRule(rule.value, index),\r\n        'set-root-style': (prop, ...values) => document.querySelector('.nxtx-root').style.setProperty(prop, values.map(e => e.value).join(', ')),\r\n        'set-font-family': (...fontFamilies) => ({\r\n            type: nxtx.TYPE.COMMAND,\r\n            name: 'set-root-style',\r\n            args: ['font-family', ...fontFamilies]\r\n        }),\r\n        'set-google-font-family': async (...fontFamilies) => {\r\n            const attr = {\r\n                rel: 'stylesheet',\r\n                href: `https://fonts.googleapis.com/css?family=${fontFamilies[0].value}&display=swap`,\r\n                id: 'link-gfont-' + fontFamilies[0].value\r\n            };\r\n            if (!document.getElementById(attr.id)) {\r\n                const link = await nxtx.html('link', attr);\r\n                document.head.appendChild(link);\r\n            }\r\n\r\n            return { type: nxtx.TYPE.COMMAND, name: 'set-font-family', args: fontFamilies };\r\n        }\r\n    }\r\n};\r\n\r\nif (nxtx) {\r\n    Object.keys(pkg.commands).forEach(name => nxtx.registerCommand(name, pkg.commands[name]));\r\n}\r\n\r\nexport default pkg;"],"names":["style","document","createElement","id","head","appendChild","pkg","name","commands","add-css-rule","rule","index","sheet","insertRule","value","set-root-style","prop","values","querySelector","setProperty","map","e","join","set-font-family","fontFamilies","type","nxtx","TYPE","COMMAND","args","set-google-font-family","async","attr","rel","href","getElementById","link","html","Object","keys","forEach","registerCommand"],"mappings":"yCAIA,MAAMA,EAAQC,SAASC,cAAc,SACrCF,EAAMG,GAAK,sBACXF,SAASG,KAAKC,YAAYL,GAI1B,MAAMM,EAAM,CACRC,KAAM,UACNC,SAAU,CACNC,eAAgB,CAACC,EAAMC,EAAQ,IAAMX,EAAMY,MAAMC,WAAWH,EAAKI,MAAOH,GACxEI,iBAAkB,CAACC,KAASC,IAAWhB,SAASiB,cAAc,cAAclB,MAAMmB,YAAYH,EAAMC,EAAOG,IAAIC,GAAKA,EAAEP,OAAOQ,KAAK,OAClIC,kBAAmB,IAAIC,MACnBC,KAAMC,KAAKC,KAAKC,QAChBrB,KAAM,iBACNsB,KAAM,CAAC,iBAAkBL,KAE7BM,yBAA0BC,SAAUP,KAChC,MAAMQ,EAAO,CACTC,IAAK,aACLC,gDAAiDV,EAAa,GAAGV,qBACjEX,GAAI,cAAgBqB,EAAa,GAAGV,OAExC,IAAKb,SAASkC,eAAeH,EAAK7B,IAAK,CACnC,MAAMiC,QAAaV,KAAKW,KAAK,OAAQL,GACrC/B,SAASG,KAAKC,YAAY+B,GAG9B,MAAO,CAAEX,KAAMC,KAAKC,KAAKC,QAASrB,KAAM,kBAAmBsB,KAAML,aAKzEE,MACAY,OAAOC,KAAKjC,EAAIE,UAAUgC,QAAQjC,GAAQmB,KAAKe,gBAAgBlC,EAAMD,EAAIE,SAASD"}