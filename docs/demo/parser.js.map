{"version":3,"file":"parser.js","sources":["../../node_modules/awaity/__internal__/errors.js","../../node_modules/awaity/__internal__/utils.js","../../node_modules/awaity/__internal__/resolveAll.js","../../node_modules/awaity/map.js","../../src/parser.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction customError(fn, BaseError) {\n  BaseError = BaseError || Error;\n\n  function CustomError() {\n    // eslint-disable-next-line no-proto\n    var _this = CustomError.__proto__.apply(this, arguments);\n    Object.assign(_this, fn.apply(null, arguments));\n    return _this;\n  }\n\n  Object.setPrototypeOf(CustomError, BaseError);\n\n  return CustomError;\n}\n\nvar SubError = exports.SubError = customError(function (errors) {\n  var multiStack = errors.reduce(function (str, error) {\n    str += '\\n\\n' + error.stack;\n    return str;\n  }, '');\n\n  return {\n    name: 'SubError',\n    message: 'SubError ' + multiStack,\n    errors: errors\n  };\n}, Error);\n\nvar IterableError = exports.IterableError = customError(function (value) {\n  var type = value === null ? 'null' : typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n  return {\n    name: 'IterableError',\n    message: 'expecting an array or an iterable object but got ' + type\n  };\n}, TypeError);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.size = size;\nexports.repeat = repeat;\nexports.toArray = toArray;\nexports.toBoolean = toBoolean;\nexports.identity = identity;\nexports.defaults = defaults;\nexports.isIterable = isIterable;\nexports.noop = noop;\nexports.isDefined = isDefined;\nfunction size(obj) {\n  return Array.isArray(obj) ? obj.length : Object.keys(obj).length;\n}\n\nfunction repeat(count, fn) {\n  // eslint-disable-next-line no-plusplus\n  for (var i = 0; i < count; i++) {\n    fn(i);\n  }\n}\n\nfunction toArray(obj) {\n  return Object.keys(obj).map(function (i) {\n    return obj[i];\n  });\n}\n\nfunction toBoolean(val) {\n  return !!val;\n}\n\nfunction identity(value) {\n  return value;\n}\n\nfunction defaults(obj, defaultObj) {\n  var initial = Object.assign({}, defaultObj);\n  return Object.keys(obj).reduce(function (results, key) {\n    results[key] = obj[key] === undefined ? defaultObj[key] : obj[key];\n    return results;\n  }, initial);\n}\n\nfunction isIterable(iterable) {\n  return iterable && typeof iterable.entries === 'function';\n}\n\nfunction noop() {}\n\nfunction isDefined(val) {\n  return val !== undefined;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = resolveAll;\n\nvar _errors = require('./errors');\n\nvar _utils = require('./utils');\n\nfunction resolve(promises) {\n  return Array.isArray(promises) ? Promise.all(promises) : Promise.resolve(promises);\n}\n\nfunction resolveAll(promises) {\n  var rejectNonIterable = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  return resolve(promises).then(function (resolved) {\n    if (rejectNonIterable && !(0, _utils.isIterable)(resolved)) {\n      return Promise.reject((0, _errors.IterableError)(resolved));\n    }\n\n    return resolved;\n  });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = map;\n\nvar _resolveAll = require('./__internal__/resolveAll');\n\nvar _resolveAll2 = _interopRequireDefault(_resolveAll);\n\nvar _utils = require('./__internal__/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction map(iterable) {\n  var mapper = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _utils.identity;\n\n  return (0, _resolveAll2.default)(iterable).then(function (values) {\n    return Promise.all(values.map(mapper));\n  });\n}","/*  NxTx parser and renderer\n    Author: Malte Rosenbjerg\n    License: MIT */\n\nimport parser from '../grammar.pegjs';\nimport map from 'awaity/map';\n\nexport const TYPE = {\n    PARAGRAPH: 1,\n    COMMAND: 2,\n    TEXT: 3,\n    BLOCK: 4,\n    HTML: 5,\n    NODE: 6,\n\n    DICTIONARY: 11,\n    ARRAY: 12,\n    NUMBER: 13,\n    STRING: 14,\n};\n\nconst commands = {};\nconst preprocessors = {};\nconst executeCommand = async (cmd, args) => {\n    if (commands[cmd] !== undefined)\n        return await commands[cmd](...(await map(args, arg => arg.type === TYPE.COMMAND ? executeCommand(arg.name, arg.args) : arg)));\n    console.warn(`Command '${cmd}' not registered`);\n    return await html('b', {class: \"error\"}, `${cmd}?`);\n};\n\nconst register = cmdCollection => (cmd, fn, overwrite = false) => {\n    if (!overwrite && cmdCollection[cmd] !== undefined)\n        return console.warn(`Command '${cmd}' is already registered. Set overwrite to true, if you need to overwrite the already registered command.`);\n    cmdCollection[cmd] = fn;\n};\nexport const registerCommand = register(commands);\nexport const registerPreprocessor = register(preprocessors);\n\nexport const verifyTypes = (types, ...args) => {\n    const invalidTypes = args\n        .map((actual, index) => ({expected: types[index], actual, index}))\n        .filter(type => type.expected !== type.actual);\n    return { ok: invalidTypes.length === 0, invalid: invalidTypes }\n};\nexport const parse = text => parser.parse(text).map(mergeText);\n\nconst noMerge = { '.': true, ',': true };\nconst mergeText = pNode => {\n    const textNodes = [];\n    const mergedNodes = pNode.value.reduce((acc, node) => {\n        if (node.type === TYPE.TEXT) {\n            if (noMerge[node.value[0]]) {\n                acc.push({ type: TYPE.TEXT, value: node.value[0] + ' ' });\n                if (node.value.length !== 1) textNodes.push({ type: TYPE.TEXT, value: node.value.substr(1) });\n            }\n            else textNodes.push(node);\n        } else {\n            if (textNodes.length) {\n                acc.push({ type: TYPE.TEXT, value: textNodes.map(n => n.value).join(' ') });\n                textNodes.length = 0;\n            }\n            acc.push(node);\n        }\n        return acc;\n    }, []);\n    if (textNodes.length)\n        mergedNodes.push({ type: TYPE.TEXT, value: textNodes.map(n => n.value).join(' ') });\n    return { type: pNode.type, value: mergedNodes };\n};\n\n\nconst truthy = e => !!e;\nconst flatMap = async (elements, fn) => (await map(elements, fn)).flat();\nconst flatMapFilter = async (elements, fn) => (await map(elements, fn)).flat().filter(truthy);\n\nconst baseRenderNode = async node => {\n    if (node.split) return document.createTextNode(node);\n    if (!node.type) return node;\n    switch (node.type) {\n        case TYPE.NODE:\n            return node;\n        case TYPE.BLOCK:\n            console.log('block?');\n            return await flatMap(node.value, baseRenderNode);\n        case TYPE.PARAGRAPH:\n            const pNodes = await flatMap(node.value, baseRenderNode);\n            if (pNodes.length) pNodes.push(htmlLite('div', { class: 'paragraph-break' }));\n            return pNodes;\n        case TYPE.HTML:\n            return htmlLite('span', { innerHTML: node.value });\n        case TYPE.TEXT:\n            return document.createTextNode(node.value);\n        case TYPE.COMMAND:\n            const result = [ await executeCommand(node.name, node.args) ].flat().filter(truthy);\n            return await flatMap(result, baseRenderNode)\n    }\n    console.error(node);\n};\nconst flatten = (rootAccumulator, nodes) => {\n    let cleanParagraph;\n    let requiresNew = true;\n    nodes.forEach(node => {\n        if (node.type === TYPE.PARAGRAPH) {\n            requiresNew = true;\n            rootAccumulator.push(flatten([], node.value));\n        }\n        else {\n            if (requiresNew) {\n                requiresNew = false;\n                cleanParagraph = { type: TYPE.PARAGRAPH, value: [] };\n                rootAccumulator.push(cleanParagraph);\n            }\n            cleanParagraph.value.push(node);\n        }\n    });\n    return rootAccumulator;\n};\n\nconst executePreprocessor = async node => {\n    if (node.type === TYPE.COMMAND && preprocessors[node.name]) {\n        const result = [ await preprocessors[node.name](...node.args) ].flat().filter(truthy);\n        const childResults = await flatMap(result, executePreprocessor);\n        if (commands[node.name] === undefined) return childResults;\n    }\n    else if (node.type === TYPE.PARAGRAPH) {\n        node.value = await flatMapFilter(node.value, executePreprocessor);\n        return node;\n    }\n    else return node;\n};\nconst executePreprocessors = async paragraphs => {\n    const processedParagraphs = [];\n    for (let i = 0; i < paragraphs.length; i++) {\n        const flattened = flatten([], await flatMapFilter(paragraphs[i].value, executePreprocessor));\n        processedParagraphs.push(...flattened);\n    }\n    return processedParagraphs.flat();\n};\n\nexport const render = async (text, root) => {\n    while (root.firstChild) root.removeChild(root.firstChild);\n    let page = 0, currentPage;\n    const newPage = () => {\n        root.appendChild(currentPage = htmlLite('section', { id: `page-${++page}`, class: 'sheet', 'data-page': page }));\n        currentPage.appendChild(htmlLite('div', { class: 'meta page-start' }));\n    };\n    newPage();\n    const place = node => {\n        currentPage.appendChild(node);\n        if (currentPage.scrollHeight > currentPage.clientHeight) {\n            newPage();\n            currentPage.appendChild(node);\n        }\n    };\n    trigger('prerender');\n    const paragraphs = parse(text).map(mergeText);\n    const preprocessed = await executePreprocessors(paragraphs);\n    for (let i = 0; i < preprocessed.length; i++) {\n        const children = await baseRenderNode(preprocessed[i]);\n        children.forEach(place);\n    }\n    trigger('postrender');\n};\nexport const htmlLite = (nodeName, attributes) => {\n    let n = document.createElement(nodeName);\n    Object.keys(attributes || {}).forEach(k => n.setAttribute(k, attributes[k]));\n    return n;\n};\nexport const html = async (nodeName, attributes, ...children) => {\n    const n = htmlLite(nodeName, attributes);\n    for (let i = 0; i < children.length; i++) n.appendChild(await baseRenderNode(children[i]));\n    return n;\n};\n\nconst hooks = { prerender: [], postrender: [] };\nconst trigger = event => (hooks[event] || []).forEach(fn => fn());\nexport const on = (event, handler) => {\n    if (!hooks[event].includes(handler)) hooks[event].push(handler);\n};\nexport const off = (event, handler) => {\n    const index = hooks[event].indexOf(handler);\n    if (index !== -1) hooks[event].splice(index, 1);\n};"],"names":["_utils","_errors","_resolveAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}